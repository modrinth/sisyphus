name = "modrinth-workers"
type = "javascript"
workers_dev = true
compatibility_date = "2022-02-14"

[vars]
WORKERS_RS_VERSION = "0.0.9"
LABRINTH_URL = "https://api.modrinth.com"
CDN_BACKEND_URL = "https://modrinth-cdn.nyc3.cdn.digitaloceanspaces.com"
MODRINTH_DOWNLOADERS = "MODRINTH_DOWNLOADERS"

[build]
command = "cargo install -q worker-build && worker-build --release" # required

[build.upload]
dir = "build/worker"
format = "modules"
main = "./shim.mjs"

[[build.upload.rules]]
globs = ["**/*.wasm"]
type = "CompiledWasm"

[[kv_namespaces]]
binding = "MODRINTH_DOWNLOADERS"
id = "b836f7164d5d458c808a82f845d6d0bb"
preview_id = "407d8655c50343ee96a569a2a520f25c"


